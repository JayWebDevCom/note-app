<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <script src="js/note-model.js"></script>
    <script src="js/note-list-model.js"></script>
    <script src="js/note-list-view-model.js"></script>
    <!--
    <script src="js/note-controller.js"></script>
    <script src="test/singleNoteViewTest.js"></script> -->
  </head>
  <body>
    <a href="tests.html">Test Page</a>

    <div id="noteToShow">
      <p>Note will appear here</p>
    </div>


    <div id="app">
      <p>Nothing yet...</p>
    </div>

    <div id="links">
      <ul>
        <li><a href="http://localhost:8080">Home</a></li>
      </ul>
    </div>

    <form id="noteForm">
      <textarea id="textArea" onfocus="this.value='';">Insert Note Here</textarea>
      <input type="submit" value="Save Note">
    </form>


    <script src="js/note-controller.js"></script>
    <script src="js/interface.js"></script>
    <!--<script src="test/noteControllerTest.js"></script> -->


    <script>
      setUpHashChangeMethod();

      function setUpHashChangeMethod() {
        window.addEventListener("hashchange", showNoteUrl)
      };

      function showNoteUrl() {
        adjustPage(getURL(window.location))
      };

      function getURL () {
        // return window.location.hash.split("#")[1];
        return window.location.hash.slice(-3)
        .match( /\d+/g );
      }

      function adjustPage(noteId) {
        noteId = parseInt(noteId)
        var output = noteController.findNoteAndReturnHTMLEDcontent(noteId)
        noteController.adjustPage(output)
      }

    </script>

    <script>
    window
    .addEventListener("submit", myAlert)

    function myAlert(e) {
      e.preventDefault()
      console.log('form submitted', e.target.childNodes[1].value)
    }
    </script>

  </body>
</html>
