<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <script src="js/note-model.js"></script>
    <script src="js/note-list-model.js"></script>
    <script src="js/note-list-view-model.js"></script>
    <script src="js/single-note-view-model.js"></script>
  </head>

  <body>
    <a href="tests.html">Test Page</a>

    <div id="showNotes">
      <p>Note will appear here</p>
    </div>

    <div id="app">
      <p>Nothing yet...</p>
    </div>

    <div id="links">
      <ul>
        <li><a href="http://localhost:8080">Home</a></li>
      </ul>
    </div>

    <form id="noteForm">
      <textarea id="textArea" onfocus="this.value='';">Insert Note Here</textarea>
      <input type="submit" value="Save Note">
    </form>


    <script src="js/note-controller.js"></script>
    <script src="js/interface.js"></script>

    <script>
      setUpHashChangeMethod();

      function setUpHashChangeMethod() {
        window.addEventListener("hashchange", showNoteUrl)
      };

      function showNoteUrl() {
        adjustPage(getURL(window.location))
      };

      function getURL () {
        return window.location.hash.slice(-3)
        .match( /\d+/g );
      }

      function adjustPage(noteId) {
        noteController.findNoteAndUpdatePageWithHTMLEDcontent(noteId)
      }

    </script>

    <script>
    window
    .addEventListener("submit", myAlert)

    function myAlert(event) {
      event.preventDefault()
      noteList.createNote(event.target.childNodes[1].value)
      noteController.getsHTMLAndInsertsHTML()
    }
    </script>

  </body>
</html>
